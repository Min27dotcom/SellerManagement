doctype html
head
  meta(charset='UTF-8')
  meta(name='viewport' content='width=device-width, initial-scale=1.0')
  title #{pageTitle}
  link(rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css')
  link(rel='stylesheet' href='/css/base.css')
  link(rel='stylesheet' href='/css/main.css')
  link(rel='stylesheet' href='/css/grid.css')
  link(rel='stylesheet' href='/css/responsive.css')
  link(rel='stylesheet' href='/assets/fonts/fontawesome-free-6.1.2-web/css/all.min.css')
  link(href='https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@300;400;500;700&family=Roboto:wght@300;400;500;700&display=swap' rel='stylesheet')
.app
  if(messages.success)
    .message.info
      div(
        class="alert alert-success"
        show-alert 
        data-time="5000"
      ) #{messages.success}
        span(close-alert) x
  if(messages.error)
    .message.info
      div(
        class="alert alert-error"
        show-alert 
        data-time="5000"
      ) #{messages.error}
        span(close-alert) x
  //- +alert-success(5000)
     

  header.header.header__fixed
    .grid.wide
      nav.header__navbar
        ul.header__navbar-list
          .header__logo
            img.header__logo-img(src='/assets/images/logo.png' alt='Logo')
        ul.header__navbar-list
          li.header__navbar-item
            .header__search
              form#form-search.form-search
                .form-search-box
                    input(type='text' value=keyword name='keyword' class='form-control header__search-input' placeholder= 'Enter your search')
                    button(class= 'header__search-btn' type='submit')
                      i.header__search-btn-icon.fa-solid.fa-magnifying-glass
          li.header__navbar-item
            button.notify__btn
              i.header__navbar-icon.fa-solid.fa-bell
          li.header__navbar-item
            button.notify__btn
              i.header__navbar-icon.fa-solid.fa-gear
          li.header__navbar-item.header__navbar-user
            img.header__navbar-user-img(src='/assets/images/nguyet_cute.jpg' alt='Em Nguyet Cute')
            span.header__navbar-user-name Min_27
            ul.header__navbar-user-menu
              li.header__navbar-user-item
                a.header__navbar-user-item-link(href='/home') Home
              li.header__navbar-user-item
                a.header__navbar-user-item-link(href='/dashboard') Dashboard
              li.header__navbar-user-item
                a.header__navbar-user-item-link(href='/adminPage') My Account
              li.header__navbar-user-item.header__navbar-user-item--separate
                a(href='/') Logout
  .app__container.app__container-fixed(checkbox-multi)
    .grid.wide
      .row.body__nav
        | #{pageTitle}
      .row.body__sub-nav
        .col.l-6
        .col.l-6
          .grid
            .row.flex-filter-sort
              .col.l-3
                .btn-dropdown-box
                  i.btn-dropdown1.fa-solid.fa-caret-down
                  | FILTER                                            
                  i.fa-solid.fa-filter
              .col.l-3
                .btn-dropdown-box
                  i.btn-dropdown2.fa-solid.fa-caret-down
                  | SORT                                            
                  i.fa-solid.fa-sort
        .filter__form
          form#form-1.form.filter__form-box(action='' method='POST')
            .form-group.form-group-totalSpending
              p.form-group-title Filter By TotalSpending
              .form-group-radio
                input(type='radio' name='totalSpending' value='')
                | All
                input(type='radio' name='totalSpending' value='500')
                | >= 500$
                input(type='radio' name='totalSpending' value='1000')
                | >= 1000$
            button.form-submit.form-submit-display.filter__btn Filter
        .sort__form
          form#form-2.form-2.sort__form-box(action='' method='POST')
            .form-group.form-group-sort
              p.form-group-title Sort By Username
              .form-group-radio
                input(type='radio' name='sortByName' value='desc')
                | DESC
                input(type='radio' name='sortByName' value='asc')
                | ASC
            button.form-submit.form-submit-display2.sort__btn Sort
      .row.header__table
        .col.l-2
          .column__name
            | #{col_1}
        .col.l-2
          .column__name
            | #{col_2}
        .col.l-2
          .column__name
            | #{col_3}
        .col.l-2
          .column__name
            | #{col_4}
        .col.l-2
          .column__name
            | #{col_5}
        .col.l-2
          .header-table-check-box 
            .column__name
              | #{col_6}
                
      .grid.wide.body__table
        each item in payments
          a.table__row-link(href=`/historyPayment/detail/${item.id}`) 
            .row.table__row.payment-detail
                .col.l-2
                  .table__row-item
                    .user__box-item
                      img.user_img(src=item.buyer.avatar alt=item.buyer.username)
                    | #{item.buyer.username}
                .col.l-2
                  .table__row-item
                    | #{item.datePayment}
                .col.l-2
                  .table__row-item
                    | #{item.buyer.address}
                .col.l-2
                  .table__row-item
                    | #{item.totalPrice}
                .col.l-2
                  .table__row-item
                    | #{item.buyer.phoneNumber}
                .col.l-2
                  .table__row-item
                    | #{item.dateDelivery}
        
    ul.pagination.home-product__pagination
      if(pagination.currentPage > 1)
        li.pagination-item
          a(class="pagination-item__link" href="" link-pagination=pagination.currentPage-1)
            i.pagination-item__icon.fa-solid.fa-angle-left
      - for(var i = 1; i <= pagination.totalPages; i++)
          li(class=`pagination-item ${pagination.currentPage == i ? "pagination-item--active" : ""}`)
            a(class="pagination-item__link" href="" link-pagination=i) #{i}
      if(pagination.currentPage < pagination.totalPages)
        li.pagination-item
          a(class="pagination-item__link" href="" link-pagination=pagination.currentPage+1)
            i.pagination-item__icon.fa-solid.fa-angle-right
  footer.footer
script(src='/js/payments.js')
script.
  document.addEventListener('DOMContentLoaded', function () {
  // Mong muốn của chúng ta
  Validator({
  form: '#form-1',
  formGroupSelector: '.form-group',
  errorSelector: '.form-message',
  rules: [
  Validator.isRequired('#fullname', 'Enter your username!'),
  Validator.isEmail('#email'),
  Validator.minLength('#password', 6),
  Validator.isRequired('#password_confirmation'),
  Validator.isRequired('#address'),
  Validator.isRequired('#phone_number'),
  Validator.isRequired('#bank_acc_name'),
  Validator.isRequired('#bank_acc_number'),
  Validator.isRequired('#bank'),
  Validator.isRequired('#date_of_birth'),
  Validator.isRequired('#gender'),
  //- Validator.isRequired('#avatar'),
  Validator.isConfirmed('#password_confirmation', function () {
  return document.querySelector('#form-1 #password').value;
  }, 'Password error!')
  ],
  onSubmit: function (data) {
  // Call API
  console.log(data);
  }
  });
  });

script.
  document.addEventListener('DOMContentLoaded', function () {
  // Mong muốn của chúng ta
  Validator({
  form: '#form-2',
  formGroupSelector: '.form-group',
  errorSelector: '.form-message',
  rules: [
  Validator.isRequired('#fullname', 'Enter your username!'),
  Validator.isEmail('#email'),
  Validator.minLength('#password', 6),
  Validator.isRequired('#password_confirmation'),
  Validator.isRequired('#address'),
  Validator.isRequired('#phone_number'),
  Validator.isRequired('#bank_acc_name'),
  Validator.isRequired('#bank_acc_number'),
  Validator.isRequired('#bank'),
  Validator.isRequired('#date_of_birth'),
  Validator.isRequired('#gender'),
  Validator.isRequired('#avatar'),
  Validator.isConfirmed('#password_confirmation', function () {
  return document.querySelector('#form-2 #password').value;
  }, 'Password error!')
  ],
  onSubmit: function (data) {
  // Call API
  console.log(data);
  }
  });
  });
